<!DOCTYPE html>
<html lang = en>
    <title>Car Controller</title>
    <head>
            <link rel="stylesheet" href="{{url_for('static',filename='css/main.css')}}">
            <!--<link rel="stylesheet" href="../static/css/main.css">-->
    </head>
    <body>
        <div class = "container">

            <div class="videoContainer">
                <div class="videoInner">
                    <div class="video">
                        <video width="320" height="240" controls>
                          <!--<source src="../static/sample.mp4" type="video/mp4">-->
                          <source src="{{url_for('static',filename='sample.mp4')}}" type="video/mp4">
                        </video>
                    </div>
                </div>
            </div>
            
            

            <div class="controllers">
                <form action="{{url_for('success')}}" method="POST" id="myForm">
                    <div class="leftContainer">
                        <button class="left btn" type = "button" name="left">
                            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 451.847 451.847" style="enable-background:new 0 0 451.847 451.847;" xml:space="preserve"><g><path d="M97.141,225.92c0-8.095,3.091-16.192,9.259-22.366L300.689,9.27c12.359-12.359,32.397-12.359,44.751,0c12.354,12.354,12.354,32.388,0,44.748L173.525,225.92l171.903,171.909c12.354,12.354,12.354,32.391,0,44.744c-12.354,12.365-32.386,12.365-44.745,0l-194.29-194.281C100.226,242.115,97.141,234.018,97.141,225.92z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>
                        </button>
                    </div>
                    <div class="upDownContainer">
                        <button class="up btn" type = "button" name="up">
                            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 451.847 451.846" style="enable-background:new 0 0 451.847 451.846;" xml:space="preserve"><g><path d="M248.292,106.406l194.281,194.29c12.365,12.359,12.365,32.391,0,44.744c-12.354,12.354-32.391,12.354-44.744,0L225.923,173.529L54.018,345.44c-12.36,12.354-32.395,12.354-44.748,0c-12.359-12.354-12.359-32.391,0-44.75L203.554,106.4c6.18-6.174,14.271-9.259,22.369-9.259C234.018,97.141,242.115,100.232,248.292,106.406z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>
                        </button>
                        <button class="down btn" type = "button" name="down">
                            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 451.847 451.847" style="enable-background:new 0 0 451.847 451.847;" xml:space="preserve"><g><path d="M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751c12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0c12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>
                        </button>
                    </div>
                    <div class="rightContainer">
                        <button class="right btn" type = "button" name="right">
                            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  viewBox="0 0 451.846 451.847" style="enable-background:new 0 0 451.846 451.847;" xml:space="preserve"><g><path d="M345.441,248.292L151.154,442.573c-12.359,12.365-32.397,12.365-44.75,0c-12.354-12.354-12.354-32.391,0-44.744L278.318,225.92L106.409,54.017c-12.354-12.359-12.354-32.394,0-44.748c12.354-12.359,32.391-12.359,44.75,0l194.287,194.284c6.177,6.18,9.262,14.271,9.262,22.366C354.708,234.018,351.617,242.115,345.441,248.292z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>
                        </button>
                    </div>

                    <!--<button class="stop" type = "button">stop</button>-->
                    
                </form>
            </div>
        </div>
        <script src="{{url_for('static',filename='js/jquery-3.2.1.js')}}"></script>
        <!--<script src="../static/js/jquery-3.2.1.js"></script>-->

        <script>
            var controls = {
                up: 0,
                down: 0,
                right: 0,
                left: 0,
                stop: 0
            }

            
            $(".up").on('mousedown', function(){
                controls.up = 1;
            });
            $(".up").on('mouseup', function(){
                controls.up = 0;
            });

            $(".down").on('mousedown', function(){
                controls.down = 1;
            });
            $(".down").on('mouseup', function(){
                controls.down = 0;
            });

            $(".right").on('mousedown', function(){
                controls.right = 1;
            });
            $(".right").on('mouseup', function(){
                controls.right = 0;
            });

            $(".left").on('mousedown', function(){
                controls.left = 1;
            });
            $(".left").on('mouseup', function(){
                controls.left = 0;
            });

            $(".stop").on('mousedown', function(){
                controls.stop = 1;
            });
            $(".stop").on('mouseup', function(){
                controls.stop = 0;
            });

	
            function sendData(){
                $.post(
                    "{{url_for('success')}}",
                    "up=" + controls.up + "&down=" + controls.down + "&right=" + controls.right + "&left=" + controls.left+"&stop=" + controls.stop
                );
            }
            /*
            $('body').on('mousedown',sendData);
            $('body').on('mouseup',sendData);
            */




        </script>

        

    </body>
</html>